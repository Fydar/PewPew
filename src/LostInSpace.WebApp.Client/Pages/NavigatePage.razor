@page "/navigate"

@using HuskyNet.WebClient.Services;

<h1>Client</h1>

@if (ClientService.View?.Lobby?.World?.Ships != null)
{
	<div  style="overflow: hidden; flex-grow: 1; width: 100%; height: 512px;">

		<div class="grid" id="zoomcanvasid" @onclick="MapOnClick">

			@foreach (var shipKvp in ClientService.View.Lobby.World.Ships)
			{
				var ship = shipKvp.Value;

				<div class="player" style="top: 0; left: 0; transform: translate(@(ship.Position.x)px, @(ship.Position.y)px)">

					<div class="player-ship" style="transform: rotate(@(ship.Rotation + 180.0f)deg);">

					</div>

					<label>Name</label>

				</div>
			}

		</div>

	</div>

	<p>@InputDebug</p>

	<div>
		<h3>Characters</h3>
		@if (ClientService.View.Lobby != null)
		{
			@foreach (var character in ClientService.View.Lobby.World.Ships)
			{
				<p><b>@character.Key</b>: @character.Value.Position.x.ToString("0.00"), @character.Value.Position.y.ToString("0.00")</p>
			}
		}
	</div>
}